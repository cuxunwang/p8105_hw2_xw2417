P8105 Homework 2 Solution
================
Xun Wang
9/25/2019

This file is the solution to P8105 Homework 2 from Xun Wang (xw2417).

## Problem 1

This problem uses the Mr. Trash Wheel dataset.

#### 1.1 Read and clean the Mr. Trash Wheel sheet.

The code chunk below reads and cleans the Mr. Trash Wheel sheet. It
omits non-data entrues and rows not including dumpster-specific data,
and rounds the number of sports balls to the nearest integer and
converts the result to an integer variable.

``` r
mr_trash_wheel_data = 
  readxl::read_excel(
    "data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
    sheet = "Mr. Trash Wheel",
    range = "A2:N338"
    ) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>% 
  mutate(
    date = str_sub(as.character(date), -2, -1),
    sports_balls = as.integer(sports_balls)) %>% 
  select(dumpster, year, month, day = date, everything()) %>% 
  pivot_longer(
    plastic_bottles:sports_balls,
    names_to = "trash_category",
    values_to = "number"
  )

mr_trash_wheel_data
```

    ## # A tibble: 1,995 x 9
    ##    dumpster  year month day   weight_tons volume_cubic_ya~ homes_powered
    ##       <dbl> <dbl> <chr> <chr>       <dbl>            <dbl>         <dbl>
    ##  1        1  2014 May   16           4.31               18             0
    ##  2        1  2014 May   16           4.31               18             0
    ##  3        1  2014 May   16           4.31               18             0
    ##  4        1  2014 May   16           4.31               18             0
    ##  5        1  2014 May   16           4.31               18             0
    ##  6        1  2014 May   16           4.31               18             0
    ##  7        1  2014 May   16           4.31               18             0
    ##  8        2  2014 May   16           2.74               13             0
    ##  9        2  2014 May   16           2.74               13             0
    ## 10        2  2014 May   16           2.74               13             0
    ## # ... with 1,985 more rows, and 2 more variables: trash_category <chr>,
    ## #   number <dbl>

#### 1.2 Read and clean precipitation data.

The code chunk below read and clean precipitation data for 2017 and
2018. It omits rows without precipitation data and adds a variable year.
Then, it combines precipitation datasets and convert month to a
character variable.

``` r
precip_data_2017 = 
  readxl::read_excel(
    "data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
    sheet = "2017 Precipitation",
    range = "A2:B14"
    ) %>%
  mutate(year = "2017") %>% 
  janitor::clean_names() 

precip_data_2018 = 
  readxl::read_excel(
    "data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14"
    ) %>%
  mutate(year = "2018") %>% 
  janitor::clean_names() %>% 
  drop_na(total)

precip_data = 
  bind_rows(precip_data_2017, precip_data_2018) %>%
  mutate(month = month.name[month]) %>% 
  select(year, month, total_inch = total)

precip_data
```

    ## # A tibble: 19 x 3
    ##    year  month     total_inch
    ##    <chr> <chr>          <dbl>
    ##  1 2017  January         2.34
    ##  2 2017  February        1.46
    ##  3 2017  March           3.57
    ##  4 2017  April           3.99
    ##  5 2017  May             5.64
    ##  6 2017  June            1.4 
    ##  7 2017  July            7.09
    ##  8 2017  August          4.44
    ##  9 2017  September       1.95
    ## 10 2017  October         0   
    ## 11 2017  November        0.11
    ## 12 2017  December        0.94
    ## 13 2018  January         0.96
    ## 14 2018  February        5.3 
    ## 15 2018  March           2.18
    ## 16 2018  April           3.2 
    ## 17 2018  May             9.27
    ## 18 2018  June            0.2 
    ## 19 2018  July            2.39

## Problem 2

## Problem 3
